
> express-bookings@1.0.0 test-positive
> newman run "./postman/collections/Bookings API.json" -e "./postman/environments/Local.postman_environment.json"

newman

Bookings API

❏ users / {userId}
↳ Get user by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 97ms]
  GET http://0.0.0.0:3000/users/e5678901-23f0-1234-5678-9abcdef01234 [200 OK, 450B, 33ms]
  ✓  Response status code is 200
  ✓  Id should be a non-empty string

↳ Update user by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 634ms]
  PUT http://0.0.0.0:3000/users/e5678901-23f0-1234-5678-9abcdef01234 [401 Unauthorized, 275B, 10ms]
  1. Response status code is 200

↳ Delete user by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 59ms]
  DELETE http://0.0.0.0:3000/users/e5678901-23f0-1234-5678-9abcdef01234 [401 Unauthorized, 275B, 4ms]
  2. Response status code is 200

❏ users
↳ Get all users
  POST http://0.0.0.0:3000/login [200 OK, 453B, 68ms]
  GET http://0.0.0.0:3000/users [200 OK, 1.57kB, 8ms]
  ✓  Response status code is 200
  ✓  Response is an array

↳ Create a new user
  POST http://0.0.0.0:3000/login [200 OK, 453B, 57ms]
  POST http://0.0.0.0:3000/users [500 Internal Server Error, 391B, 63ms]
  3. Response status code is 201

❏ hosts / {hostId}
↳ Get host by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 57ms]
  GET http://0.0.0.0:3000/hosts/e2345678-90bc-def0-0123-456789abcdef [200 OK, 552B, 6ms]
  ✓  Response status code is 200
  ✓  ID is a non-empty string

↳ Update host by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 60ms]
  PUT http://0.0.0.0:3000/hosts/e2345678-90bc-def0-0123-456789abcdef [401 Unauthorized, 275B, 7ms]
  4. Response status code is 200

↳ Delete host by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 57ms]
  DELETE http://0.0.0.0:3000/hosts/e2345678-90bc-def0-0123-456789abcdef [401 Unauthorized, 275B, 6ms]
  5. Response status code is 200

❏ hosts
↳ Get all hosts
  POST http://0.0.0.0:3000/login [200 OK, 453B, 58ms]
  GET http://0.0.0.0:3000/hosts [200 OK, 2.25kB, 4ms]
  ✓  Response status code is 200
  ✓  Response body is an array

↳ Create a new host
  POST http://0.0.0.0:3000/login [200 OK, 453B, 633ms]
  POST http://0.0.0.0:3000/hosts [500 Internal Server Error, 391B, 111ms]
  6. Response status code is 201

❏ properties / {propertyId}
↳ Get property by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 53ms]
  GET http://0.0.0.0:3000/properties/i1234567-89f0-1234-5678-9abcdef01234 [200 OK, 682B, 5ms]
  ✓  Response status code is 200
  ✓  Id should be a non-empty string

↳ Update property by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 55ms]
  PUT http://0.0.0.0:3000/properties/i1234567-89f0-1234-5678-9abcdef01234 [401 Unauthorized, 275B, 4ms]
  7. Response status code is 200

↳ Delete property by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 53ms]
  DELETE http://0.0.0.0:3000/properties/i1234567-89f0-1234-5678-9abcdef01234 [401 Unauthorized, 275B, 4ms]
  8. Response status code is 200

❏ properties
↳ Get all properties
  POST http://0.0.0.0:3000/login [200 OK, 453B, 53ms]
  GET http://0.0.0.0:3000/properties [200 OK, 2.48kB, 5ms]
  ✓  Response status code is 200
  ✓  Response is an array with at least one element
  ✓  maxGuestCount is a non-negative integer

↳ Create a new property
  POST http://0.0.0.0:3000/login [200 OK, 453B, 55ms]
  POST http://0.0.0.0:3000/properties [401 Unauthorized, 275B, 4ms]
  9. Response status code is 201

❏ amenities / {amenityId}
↳ Get amenity by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 55ms]
  GET http://0.0.0.0:3000/amenities/u3456789-01rs-tuvw-01cd-ef0123456789 [200 OK, 302B, 5ms]
  ✓  Response status code is 200
  ✓  Response has the required fields - id and name
  ✓  id is a non-empty string
  ✓  Name should be a non-empty string

↳ Update amenity by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 53ms]
  PUT http://0.0.0.0:3000/amenities/u3456789-01rs-tuvw-01cd-ef0123456789 [401 Unauthorized, 275B, 3ms]
 10. Response status code is 200

↳ Delete amenity by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 52ms]
  DELETE http://0.0.0.0:3000/amenities/u3456789-01rs-tuvw-01cd-ef0123456789 [401 Unauthorized, 275B, 2ms]
 11. Response status code is 200

❏ amenities
↳ Get all amenities
  POST http://0.0.0.0:3000/login [200 OK, 453B, 53ms]
  GET http://0.0.0.0:3000/amenities [200 OK, 864B, 53ms]
  ✓  Response status code is 200
  ✓  Response is an array with at least one element
  ✓  Each element in the response has the required fields - id and name
  ✓  The id must be a non-empty string
  ✓  Name is a non-empty string

↳ Create a new amenity
  POST http://0.0.0.0:3000/login [200 OK, 453B, 325ms]
  POST http://0.0.0.0:3000/amenities [401 Unauthorized, 275B, 5ms]
 12. Response status code is 201

❏ bookings / {bookingId}
↳ Get booking by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 71ms]
  GET http://0.0.0.0:3000/bookings/f0123456-78ab-cdef-0123-456789abcdef [401 Unauthorized, 274B, 4ms]
 13. Response status code is 200
 14. Id should be a non-empty string
 15. userId is a non-empty string
 16. propertyId should be a non-empty string

↳ Update booking by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 72ms]
  PUT http://0.0.0.0:3000/bookings/f0123456-78ab-cdef-0123-456789abcdef [401 Unauthorized, 275B, 5ms]
 17. Response status code is 200

↳ Delete booking by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 65ms]
  DELETE http://0.0.0.0:3000/bookings/f0123456-78ab-cdef-0123-456789abcdef [401 Unauthorized, 275B, 4ms]
 18. Response status code is 200

❏ bookings
↳ Get all bookings
  POST http://0.0.0.0:3000/login [200 OK, 453B, 54ms]
  GET http://0.0.0.0:3000/bookings [401 Unauthorized, 274B, 3ms]
 19. Response status code is 200
 20. Response is an array
 21. Id should be a non-empty string
 22. userId is a non-empty string

↳ Create a new booking
  POST http://0.0.0.0:3000/login [200 OK, 453B, 56ms]
  POST http://0.0.0.0:3000/bookings [401 Unauthorized, 275B, 3ms]
 23. Response status code is 201

❏ reviews / {reviewId}
↳ Get review by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 54ms]
  GET http://0.0.0.0:3000/reviews/j0123456-78f0-1234-5678-9abcdef01234 [200 OK, 669B, 4ms]
  ✓  Response status code is 200
  ✓  Response has the required fields
  ✓  Id is a non-empty string
  ✓  userId is a non-empty string
  ✓  propertyId is a non-empty string

↳ Update review by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 55ms]
  PUT http://0.0.0.0:3000/reviews/j0123456-78f0-1234-5678-9abcdef01234 [401 Unauthorized, 275B, 6ms]
 24. Response status code is 200

↳ Delete review by ID
  POST http://0.0.0.0:3000/login [200 OK, 453B, 54ms]
  DELETE http://0.0.0.0:3000/reviews/j0123456-78f0-1234-5678-9abcdef01234 [401 Unauthorized, 275B, 5ms]
 25. Response status code is 200

❏ reviews
↳ Get all reviews
  POST http://0.0.0.0:3000/login [200 OK, 453B, 650ms]
  GET http://0.0.0.0:3000/reviews [200 OK, 2.31kB, 5ms]
  ✓  Response status code is 200
  ✓  Response is an array with at least one element
  ✓  Id is a non-empty string
  ✓  userId is a non-empty string
  ✓  propertyId is a non-empty string

↳ Create a new review
  POST http://0.0.0.0:3000/login [200 OK, 453B, 58ms]
  POST http://0.0.0.0:3000/reviews [401 Unauthorized, 275B, 3ms]
 26. Response status code is 201

→ User Login
  POST http://0.0.0.0:3000/login [200 OK, 453B, 63ms]
  POST http://0.0.0.0:3000/login [200 OK, 453B, 53ms]
  ✓  Response status code is 200
  ✓  Response has the required field 'token'
  ✓  Token is a non-empty string

[90m┌─────────────────────────[39m[90m┬───────────────────[39m[90m┬───────────────────┐[39m
[90m│[39m                         [90m│[39m          executed [90m│[39m            failed [90m│[39m
[90m├─────────────────────────[39m[90m┼───────────────────[39m[90m┼───────────────────┤[39m
[90m│[39m              iterations [90m│[39m                 1 [90m│[39m                 0 [90m│[39m
[90m├─────────────────────────[39m[90m┼───────────────────[39m[90m┼───────────────────┤[39m
[90m│[39m                requests [90m│[39m                62 [90m│[39m                 0 [90m│[39m
[90m├─────────────────────────[39m[90m┼───────────────────[39m[90m┼───────────────────┤[39m
[90m│[39m            test-scripts [90m│[39m                62 [90m│[39m                 0 [90m│[39m
[90m├─────────────────────────[39m[90m┼───────────────────[39m[90m┼───────────────────┤[39m
[90m│[39m      prerequest-scripts [90m│[39m                31 [90m│[39m                 0 [90m│[39m
[90m├─────────────────────────[39m[90m┼───────────────────[39m[90m┼───────────────────┤[39m
[90m│[39m              assertions [90m│[39m                61 [90m│[39m                26 [90m│[39m
[90m├─────────────────────────┴───────────────────┴───────────────────┤[39m
[90m│[39m total run duration: 5.4s                                        [90m│[39m
[90m├─────────────────────────────────────────────────────────────────┤[39m
[90m│[39m total data received: 17.52kB (approx)                           [90m│[39m
[90m├─────────────────────────────────────────────────────────────────┤[39m
[90m│[39m average response time: 68ms [min: 2ms, max: 650ms, s.d.: 136ms] [90m│[39m
[90m└─────────────────────────────────────────────────────────────────┘[39m

[31m   # [39m[31m failure        [39m[31m detail                                                     [39m
[90m     [39m[90m                [39m[90m                                                            [39m
 01.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "users / {userId} / Update user by ID"              
[90m     [39m[90m                [39m[90m                                                            [39m
 02.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "users / {userId} / Delete user by ID"              
[90m     [39m[90m                [39m[90m                                                            [39m
 03.  AssertionError  Response status code is 201                                
                      expected response to have status code 201 but got 500      
                      at assertion:0 in test-script                              
                      inside "users / Create a new user"                         
[90m     [39m[90m                [39m[90m                                                            [39m
 04.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "hosts / {hostId} / Update host by ID"              
[90m     [39m[90m                [39m[90m                                                            [39m
 05.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "hosts / {hostId} / Delete host by ID"              
[90m     [39m[90m                [39m[90m                                                            [39m
 06.  AssertionError  Response status code is 201                                
                      expected response to have status code 201 but got 500      
                      at assertion:0 in test-script                              
                      inside "hosts / Create a new host"                         
[90m     [39m[90m                [39m[90m                                                            [39m
 07.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "properties / {propertyId} / Update property by ID" 
[90m     [39m[90m                [39m[90m                                                            [39m
 08.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "properties / {propertyId} / Delete property by ID" 
[90m     [39m[90m                [39m[90m                                                            [39m
 09.  AssertionError  Response status code is 201                                
                      expected response to have status code 201 but got 401      
                      at assertion:0 in test-script                              
                      inside "properties / Create a new property"                
[90m     [39m[90m                [39m[90m                                                            [39m
 10.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "amenities / {amenityId} / Update amenity by ID"    
[90m     [39m[90m                [39m[90m                                                            [39m
 11.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "amenities / {amenityId} / Delete amenity by ID"    
[90m     [39m[90m                [39m[90m                                                            [39m
 12.  AssertionError  Response status code is 201                                
                      expected response to have status code 201 but got 401      
                      at assertion:0 in test-script                              
                      inside "amenities / Create a new amenity"                  
[90m     [39m[90m                [39m[90m                                                            [39m
 13.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "bookings / {bookingId} / Get booking by ID"        
[90m     [39m[90m                [39m[90m                                                            [39m
 14.  AssertionError  Id should be a non-empty string                            
                      expected undefined to be a string                          
                      at assertion:1 in test-script                              
                      inside "bookings / {bookingId} / Get booking by ID"        
[90m     [39m[90m                [39m[90m                                                            [39m
 15.  AssertionError  userId is a non-empty string                               
                      expected undefined to be a string                          
                      at assertion:2 in test-script                              
                      inside "bookings / {bookingId} / Get booking by ID"        
[90m     [39m[90m                [39m[90m                                                            [39m
 16.  AssertionError  propertyId should be a non-empty string                    
                      expected undefined to be a string                          
                      at assertion:3 in test-script                              
                      inside "bookings / {bookingId} / Get booking by ID"        
[90m     [39m[90m                [39m[90m                                                            [39m
 17.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "bookings / {bookingId} / Update booking by ID"     
[90m     [39m[90m                [39m[90m                                                            [39m
 18.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "bookings / {bookingId} / Delete booking by ID"     
[90m     [39m[90m                [39m[90m                                                            [39m
 19.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "bookings / Get all bookings"                       
[90m     [39m[90m                [39m[90m                                                            [39m
 20.  AssertionError  Response is an array                                       
                      expected { error: 'No token provided' } to be an array     
                      at assertion:1 in test-script                              
                      inside "bookings / Get all bookings"                       
[90m     [39m[90m                [39m[90m                                                            [39m
 21.  AssertionError  Id should be a non-empty string                            
                      expected { error: 'No token provided' } to be an array     
                      at assertion:2 in test-script                              
                      inside "bookings / Get all bookings"                       
[90m     [39m[90m                [39m[90m                                                            [39m
 22.  AssertionError  userId is a non-empty string                               
                      expected { error: 'No token provided' } to be an array     
                      at assertion:3 in test-script                              
                      inside "bookings / Get all bookings"                       
[90m     [39m[90m                [39m[90m                                                            [39m
 23.  AssertionError  Response status code is 201                                
                      expected response to have status code 201 but got 401      
                      at assertion:0 in test-script                              
                      inside "bookings / Create a new booking"                   
[90m     [39m[90m                [39m[90m                                                            [39m
 24.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "reviews / {reviewId} / Update review by ID"        
[90m     [39m[90m                [39m[90m                                                            [39m
 25.  AssertionError  Response status code is 200                                
                      expected response to have status code 200 but got 401      
                      at assertion:0 in test-script                              
                      inside "reviews / {reviewId} / Delete review by ID"        
[90m     [39m[90m                [39m[90m                                                            [39m
 26.  AssertionError  Response status code is 201                                
                      expected response to have status code 201 but got 401      
                      at assertion:0 in test-script                              
                      inside "reviews / Create a new review"                     
